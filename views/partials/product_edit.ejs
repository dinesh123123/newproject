<style type="text/css">#line_chart {  
    height: 1px;
     margin-top: opx;
     margin-left: 100px; }
     .form-horizontal{
        margin-left: 25px;
     }
     .content{
        margin-left: 118px;
        margin-right: 5px;
     }
     .page-heading {
  text-align: center;
}

     .box {
        display: block;
        background-color: rgba(200, 200, 200, .25);
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        overflow: hidden;
        padding: 40px;
    }

    .js--image-preview input {
        width: 0.1px;
        height: 0.1px;
        opacity: 0;
        overflow: hidden;
        position: absolute;
        z-index: -1;
    }

    .js--image-preview label {
        display: flex;
        align-items: center;
        width: 100%;
        height: 100%;
        font-weight: 400;
        text-overflow: ellipsis;
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
    }

    .js--image-preview label span {
        display: inline-block;
        width: 50%;
        height: 100%;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
        vertical-align: middle;
        text-align: center;
    }

    .js--image-preview label span:hover i.material-icons {
        color: lightgray;
    }

    .js--image-preview {
        height: 200px;
        width: 100%;
        position: relative;
        overflow: hidden;
        background-image: url("");
        background-color: transparent;
        background-position: center center;
        background-repeat: no-repeat;
        background-size: cover;
        border: 1px dashed;
        cursor: pointer;
        text-align: center;
        transition: background-color ease-in-out 150ms;
    }

    .js--image-preview::after {
        content: "photo_size_select_actual";
        font-family: "Material Icons";
        position: relative;
        font-size: 4.5em;
        color: #e6e6e6;
        top: calc(50% - 2rem);
        left: calc(50% - 2.25rem);
        z-index: 0;
    }

    .js--image-preview.js--no-default::after {
        display: none;
    }

    .js--image-preview:nth-child(2) {
        background-image: url("http://bastianandre.at/giphy.gif");
    }

    .drop {
        display: block;
        position: absolute;
        background: rgba(95, 158, 160, 0.2);
        border-radius: 100%;
        transform: scale(0);
    }

    .animate {
        -webkit-animation: ripple 0.4s linear;
        animation: ripple 0.4s linear;
    }
    .editimages {
      height: 140px;
      width: 140px;
  }
  #rrrs{
    height: 70px;
    column-count:"10";
    margin-bottom: 70px;
     
  }
  #abcd{
  margin-top: 30px;
  margin-bottom: 30px;
  color: darkorchid;
     
  }

   </style>

    <section class="content dashboard">
          <div class="main-graph">
                  <div class="row clearfix">
                      <div class="col-xs-12 col-sm-6 col-md-8 col-lg-10 padding-0 overflow-hidden">
                          <div class="graph-area">
                               <div id="line_chart"></div>
                          </div> 
                      </div>
                    
                  </div>
              </div>
              <!-- #END# Main Graph-->
          <div class="page-heading">
              <h1><b>Update product</b></h1>
              <ol class="breadcrumb">
                  <li><a href="/public/index"><b>Home</b></a></li>
      <li class="active"><b>update product</b></li>
              </ol>
          </div>

 


<section class="content">
  <div class="page-body clearfix">

      <div class="panel panel-default">
          <div class="panel-heading"><?php echo $title; ?></div>
          <div class="panel-body">
            <form class="form-horizontal"action="/public/update_product/<%= data._id %>"  enctype="multipart/form-data" method="POST">
          
                <div class="form-group">
                    <div class="col-sm-12">
                      <input type="hidden" name="_id"value="<%=data._id%>"readOnly>
                  </div>
                       
                  <div class="col-sm-12">
                    <label><b>Product name</b></label>
                    <input type="text" class="form-control" id="name" name="product_name" placeholder="type banner name" value="<%=data.product_name%>">
                </div>

                <div class="col-sm-4">
                    <label><b>Select Product type</b></label><br>
                    <select name="product_type" class="form-control" value="<%=data.product_type%>" >
                        <option value="Buy"<%=data.product_type==='Buy' ? 'selected' : '' %>>Buy Product</option>
                        <option value="Rent"<%=data.product_type==='Rent' ? 'selected' : '' %>>Rent Product</option>
                       
                        
                    </select>
                </div>
                <div class="col-sm-4">
                    <label><b></b>New Product Price</b></label>
                    <input type="text" class="form-control" name="price" value="<%=data.price%>">
                </div>
             <div class="col-sm-4">
                <label> <b>Refurbished Product Price</b></label>
                <input type="text" class="form-control" placeholder="enter rent price" name="rent_price" value="<%=data.rent_price%>">
                </div>

            </div>
            <div class="form-group">
                <div class="col-sm-6">
                  <label> <b>New Product Discount  Price</b></label>
                  <input type="text" class="form-control" name="discount_price"  value="<%=data.discount_price%>" />
                </div>
                <div class="col-sm-6">
                  <label><b>Refurbished Product Discount Price</b></label>
                  <input type="text" class="form-control" name="rent_discount_price"  value="<%=data.rent_discount_price%>"/>
                </div>
            </div>
           
                <h3 style="color: rgb(47, 196, 255);"><b>Prime product price </b></h3>

                <div class="form-group">
                    <div class="col-sm-2">
                      <label> <b>2/month</b></label>
                      <input type="number" min="1"  class="form-control" name="p_price2" value="<%=data.p_price2%>" placeholder="price" />
                    </div>
                    <div class="col-sm-2">
                      <label><b> 3/month</b></label>
                      <input type="number" min="1"  class="form-control" name="p_price3" value="<%=data.p_price3%>" placeholder="price" />
                    </div>

                    <!-- <div class="col-sm-2">
                        <label> <b>4/month</b></label>
                        <input type="number" min="1"  class="form-control" name="p_price4" value="<%=data.p_price4%>" placeholder="price" />
                      </div> -->
                      <div class="col-sm-2">
                        <label><b>6/month</b></label>
                        <input type="number" min="1"  class="form-control" name="p_price6" value="<%=data.p_price6%>" placeholder="price" />
                      </div>

                      <div class="col-sm-2">
                        <label><b>9/month</b></label>
                        <input type="number" min="1"  class="form-control" name="p_price9" value="<%=data.p_price9%>" placeholder="price" />
                      </div>

                      <div class="col-sm-2">
                        <label> <b>12/month</b></label>
                        <input type="number" min="1"  class="form-control" name="p_price12" value="<%=data.p_price12%>" placeholder="price" />
                      </div>
                     
                </div>

                <h3 style="color: darkslateblue;"><b>Value product price </b></h3>

                <div class="form-group">
                    <div class="col-sm-2">
                      <label> <b>2/month</b></label>
                      <input type="number" min="1"  class="form-control" name="v_price2" value="<%=data.v_price2%>"  placeholder="price" />
                    </div>
                    <div class="col-sm-2">
                      <label><b> 3/month</b></label>
                      <input type="number" min="1"  class="form-control" name="v_price3" value="<%=data.v_price3%>"  placeholder="price" />
                    </div>

                    <!-- <div class="col-sm-2">
                        <label> <b>4/month</b></label>
                        <input type="number" min="1" class="form-control" name="v_price4" value="<%=data.v_price4%>" placeholder="price" />
                      </div> -->
                      <div class="col-sm-2">
                        <label><b> 6/month</b></label>
                        <input type="number" min="1"  class="form-control" name="v_price6" value="<%=data.v_price6%>" placeholder="price" />
                      </div>

                      <div class="col-sm-2">
                        <label><b> 9/month</b></label>
                        <input type="number" min="1"  class="form-control" name="v_price9" value="<%=data.v_price9%>" placeholder="price" />
                      </div>

                      <div class="col-sm-2">
                        <label> <b>12/month</b></label>
                        <input type="number" min="1"  class="form-control" name="v_price12" value="<%=data.v_price12%>" placeholder=price" />
                      </div>
                     
                </div>

               
              <div class="form-group">
                <div class="col-sm-4">
                    <label>Security Deposit</label>
                    <input type="text" class="form-control" name="refund_pollicy" value="<%=data.refund_pollicy%>" />
                </div>
                 <div class="col-sm-4">
                  <label><b>Offer %</b></label>
                  <input type="text" class="form-control" name="offer"value="<%=data.offer%>"/>
                </div>
                <div class="col-sm-4">
                  <label> <b>Instock</b></label>
                    <input type="number" min="1" name="instock" class="form-control" value="<%=data.instock%>" />
                </div>
            </div> <br>
                 <h1><b>Specifications of Product</b></h1>
<br>

<div class="form-group">
    <div class="col-sm-6">
      <label><b>Dimensions</b></label>
      <input type="text" class="form-control" name="dimensions" value="<%=data.dimensions%>"/>
    </div>
    <div class="col-sm-6">
      <label> <b>Height</b></label>
        <input type="number" min="1" name="height" class="form-control" value="<%=data.height%>"/>
    </div>
</div>
<div class="form-group">
    <div class="col-sm-6">
      <label><b>Width</b></label>
      <input type="number" min="1" class="form-control" name="width" value="<%=data.width%>" />
    </div>
    <div class="col-sm-6">
      <label> <b>Length</b></label>
        <input type="number" min="1" name="length" class="form-control" value="<%=data.length%>" />
    </div>
</div>


<div class="form-group">
    <div class="col-sm-6">
        <label>Type product name</label>
        <input type="text" class="form-control" name="type_product" value="<%=data.type_product%>" />
    </div>
<!--   </div>
 <div class="form-group">
    <div class="col-sm-12">
        <label>Price</label>
        <input type="text" class="form-control" name="price" placeholder="price" />
    </div>-->
</div> 
<div class="form-group">
    <div class="col-sm-6">
        <label>Delevery Time</label>
        <input type="date" class="form-control" name="delevery_time" value="<%=data.delevery_time%>"/>
    </div>
    <div class="col-sm-6">
        <label>Type of finish</label>
        <input type="text" class="form-control" name="type_of_finish" value="<%=data.type_of_finish%>"/>
    </div>
</div>

<div class="form-group">
    <div class="col-sm-12">
        <label><b>Text</b></label>
        <input type="text" class="form-control" name="text" value="<%=data.text%>" />
    </div>
</div>

    <div class="form-group">
    <div class="col-sm-12">
        <label><b>Description</b></label>
        <input type="text" id="rrrs" class="form-control no-resize" name="description"value="<%=data.description%>" cols="10" rows="5" >
    </div>



    <h2 id="abcd"> Select multiple images only png,jpeg and jpg format</h2>

    <div class="form-group">
       
        <div class="col-sm-4">
               <p class="text-center"><label for="dicky"> </label></p>
               <h5>Front Image</h5>
               <div class="box">
                   <div class="js--image-preview">
                  
                       <label>
                           <input type="file" name="images" id="dicky"   class="image-upload" value="uploads/<%=data.image%>" multiple>
                          
                           <div class="dinesh"><img src="/uploads/<%=data.images[0]%>"alt="front"style="height:200px;weight:175px;"></div>
                          
                       </label>
                   </div>
               </div>
           </div>
    



              <div class="col-sm-4">
               <p class="text-center"><label for="dicky"></label></p>
               <h5>Right side Image</h5>
               <div class="box">
                   <div class="js--image-preview">
                       <label>
                           <input type="file" name="images" id="dicky" class="image-upload" value="uploads/<%=data.images%>" multiple>
                           <div class="dinesh"><img src="/uploads/<%=data.images[1]%>"alt="front"style="height:200px;weight:175px;"></div>
                       </label>
                   </div>
               </div>
           </div>


           <div class="col-sm-4">
               <p class="text-center"><label for="dicky"></label></p>
               <h5>Left side Image</h5>
               <div class="box">
                   <div class="js--image-preview">
                       <label>
                           <input type="file" name="images" id="dicky" class="image-upload" multiple>
                           <div class="dinesh"><img src="/uploads/<%=data.images[2]%>"alt="front"style="height:200px;weight:175px;"></div>
                       </label>
                   </div>
               </div>
           </div>



           <div class="col-sm-4">
               <p class="text-center"><label for="dicky"></label></p>
               <h5>Back Image</h5>
               <div class="box">
                   <div class="js--image-preview">
                       <label>
                           <input type="file" name="images" id="dicky" class="image-upload" multiple>
                           <div class="dinesh"><img src="/uploads/<%=data.images[3]%>"alt="front"style="height:200px;weight:175px;"></div>
                           <h3>Back side Image</h3>
                       </label>
                   </div>
               </div>
           </div>




           <div class="col-sm-4">
               <p class="text-center"><label for="dicky"></label></p>
               <h5>Product dimensions Image</h5>
               <div class="box">
                   <div class="js--image-preview">
                       <label>
                           <input type="file" name="images" id="dicky" class="image-upload" multiple>
                           <div class="dinesh"><img src="/uploads/<%=data.images[4]%>"alt="front"style="height:200px;weight:175px;"></div>
                       </label>
                   </div>
               </div> 
          
           







                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-sm btn-success">Submit</button>
                </div> 
              </form>
          </div>
      </div>
  </div>
  <section>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

      <script type='text/javascript'>
          // baseURL variable
          var baseURL = "<?php echo base_url(); ?>";

          $(document).ready(function() {

              // maker_id change
              $('#maker_id').change(function() {
                  var maker_id = $(this).val();

                  // AJAX request
                  $.ajax({
                      url: '<?= base_url() ?>Vendor/getModels',
                      method: 'post',
                      data: {
                          maker_id: maker_id
                      },
                      dataType: 'json',
                      success: function(response) {

                          // Remove options 
                          $('#veriant_id').find('option').not(':first').remove();
                          $('#model_id').find('option').not(':first').remove();

                          // Add options
                          $.each(response, function(index, data) {
                              $('#model_id').append('<option value="' + data['id'] + '">' +
                                  data['model_name'] + '</option>');
                          });
                      }
                  });
              });

              // model_id change
              $('#model_id').change(function() {
                  var model_id = $(this).val();

                  // AJAX request
                  $.ajax({
                      url: '<?= base_url() ?>Vendor/getVeriants',
                      method: 'post',
                      data: {
                          model_id: model_id
                      },
                      dataType: 'json',
                      success: function(response) {

                          // Remove options
                          $('#veriant_id').find('option').not(':first').remove();

                          // Add options
                          $.each(response, function(index, data) {
                              $('#veriant_id').append('<option value="' + data['id'] + '">' +
                                  data['variation_name'] + '</option>');
                          });
                      }
                  });
              });

          });
      </script>

      <script type="text/javascript">
          function initImageUpload(box) {
              let uploadField = box.querySelector('.image-upload');

              uploadField.addEventListener('change', getFile);

              function getFile(e) {
                  let file = e.currentTarget.files[0];
                  checkType(file);
              }

              function previewImage(file) {
                  let thumb = box.querySelector('.js--image-preview'),
                      reader = new FileReader();

                  reader.onload = function() {
                      thumb.style.backgroundImage = 'url(' + reader.result + ')';
                  }
                  reader.readAsDataURL(file);
                  thumb.className += ' js--no-default';
              }

              function checkType(file) {
                  let imageType = /image.*/;
                  if (!file.type.match(imageType)) {
                      throw 'Datei ist kein Bild';
                  } else if (!file) {
                      throw 'Kein Bild gew√§hlt';
                  } else {
                      previewImage(file);
                  }
              }

          }

          // initialize box-scope
          var boxes = document.querySelectorAll('.box');

          for (let i = 0; i < boxes.length; i++) {
              let box = boxes[i];
              initDropEffect(box);
              initImageUpload(box);
          }



          /// drop-effect
          function initDropEffect(box) {
              let area, drop, areaWidth, areaHeight, maxDistance, dropWidth, dropHeight, x, y;

              // get clickable area for drop effect
              area = box.querySelector('.js--image-preview');
              area.addEventListener('click', fireRipple);

              function fireRipple(e) {
                  area = e.currentTarget
                  // create drop
                  if (!drop) {
                      drop = document.createElement('span');
                      drop.className = 'drop';
                      this.appendChild(drop);
                  }
                  // reset animate class
                  drop.className = 'drop';

                  // calculate dimensions of area (longest side)
                  areaWidth = getComputedStyle(this, null).getPropertyValue("width");
                  areaHeight = getComputedStyle(this, null).getPropertyValue("height");
                  maxDistance = Math.max(parseInt(areaWidth, 10), parseInt(areaHeight, 10));

                  // set drop dimensions to fill area
                  drop.style.width = maxDistance + 'px';
                  drop.style.height = maxDistance + 'px';

                  // calculate dimensions of drop
                  dropWidth = getComputedStyle(this, null).getPropertyValue("width");
                  dropHeight = getComputedStyle(this, null).getPropertyValue("height");

                  // calculate relative coordinates of click
                  // logic: click coordinates relative to page - parent's position relative to page - half of self height/width to make it controllable from the center
                  x = e.pageX - this.offsetLeft - (parseInt(dropWidth, 10) / 2);
                  y = e.pageY - this.offsetTop - (parseInt(dropHeight, 10) / 2) - 30;

                  // position drop and animate
                  drop.style.top = y + 'px';
                  drop.style.left = x + 'px';
                  drop.className += ' animate';
                  e.stopPropagation();

              }
          }
      </script>

      <script type="text/javascript">
          function hideInsurance() {
              document.getElementById('insurance').style.display = 'none';
          }

          function showInsurance() {
              document.getElementById('insurance').style.display = 'block';
          }
      </script>
      <script type="text/javascript">
          function fetchcity() {
              var state = $("#state_ids option:selected").val();

              $.ajax({
                  type: "POST",
                  url: "<?php echo base_url(); ?>" + "Vendor/state_to_city",
                  dataType: 'json',
                  data: {
                      stateid: state
                  },
                  success: function(response) {


                      $('#city_id').find('option').not(':first').remove();

                      // Add options
                      $.each(response, function(index, data) {
                          $('#city_id').append('<option value="' + data.id + '">' + data.district +
                              '</option>');
                      });
                  }
              });

          };
      </script>

      <script>
        var image = document.querySelector('#image');

image.addEventListener('click', function() {
    image.src = 'https://dirask.com/static/bucket/1633375165831-yjQ7G6WQeL--image.png';
});
      </script>